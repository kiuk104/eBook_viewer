# ğŸ“Š viewer.js ë¦¬íŒ©í† ë§ ìš”ì•½

## âœ… ì™„ë£Œëœ ì‘ì—…

8ëª…ì˜ ì—ì´ì „íŠ¸ê°€ ê°ì ë‹¤ë¥¸ ì„¤ê³„ íŒ¨í„´ìœ¼ë¡œ `viewer.js`ë¥¼ ë¦¬íŒ©í† ë§í–ˆìŠµë‹ˆë‹¤.

### êµ¬í˜„ ì™„ë£Œëœ ì œì•ˆ

1. âœ… **ì—ì´ì „íŠ¸ 1: í´ë˜ìŠ¤ ê¸°ë°˜ ëª¨ë“ˆ íŒ¨í„´**
   - ì™„ì „íˆ êµ¬í˜„ë¨ (ëª¨ë“  íŒŒì¼ ì‘ì„± ì™„ë£Œ)
   - ìœ„ì¹˜: `src/js/viewer/agent1_class-based/`

2. âœ… **ì—ì´ì „íŠ¸ 2: ìˆœìˆ˜ í•¨ìˆ˜í˜• íŒŒì´í”„ë¼ì¸**
   - ì™„ì „íˆ êµ¬í˜„ë¨ (í•µì‹¬ ëª¨ë“ˆ ì‘ì„± ì™„ë£Œ)
   - ìœ„ì¹˜: `src/js/viewer/agent2_functional-pipeline/`

3. âœ… **ì—ì´ì „íŠ¸ 3: ì´ë²¤íŠ¸ ê¸°ë°˜ ì•„í‚¤í…ì²˜**
   - í•µì‹¬ êµ¬ì¡° êµ¬í˜„ë¨ (EventBus + ê¸°ë³¸ í†µí•©)
   - ìœ„ì¹˜: `src/js/viewer/agent3_event-based/`

### ë¬¸ì„œí™” ì™„ë£Œëœ ì œì•ˆ

4-8ë²ˆ ì—ì´ì „íŠ¸ì˜ ì œì•ˆì€ `docs/REFACTORING_PROPOSALS.md`ì— ìƒì„¸íˆ ë¬¸ì„œí™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

---

## ğŸ“ ìƒì„±ëœ íŒŒì¼ êµ¬ì¡°

```
src/js/viewer/
â”œâ”€â”€ agent1_class-based/
â”‚   â”œâ”€â”€ FileManager.js
â”‚   â”œâ”€â”€ ContentRenderer.js
â”‚   â”œâ”€â”€ BookmarkManager.js
â”‚   â”œâ”€â”€ HistoryManager.js
â”‚   â”œâ”€â”€ StyleManager.js
â”‚   â””â”€â”€ index.js
â”‚
â”œâ”€â”€ agent2_functional-pipeline/
â”‚   â”œâ”€â”€ README.md
â”‚   â”œâ”€â”€ state.js
â”‚   â”œâ”€â”€ pipeline.js
â”‚   â”œâ”€â”€ render.js
â”‚   â””â”€â”€ index.js
â”‚
â””â”€â”€ agent3_event-based/
    â”œâ”€â”€ EventBus.js
    â””â”€â”€ index.js

docs/
â”œâ”€â”€ REFACTORING_PROPOSALS.md  # ëª¨ë“  ì—ì´ì „íŠ¸ ì œì•ˆ ìƒì„¸ ì„¤ëª…
â””â”€â”€ REFACTORING_SUMMARY.md    # ì´ íŒŒì¼
```

---

## ğŸ¯ ê° ì œì•ˆì˜ í•µì‹¬ íŠ¹ì§•

### ì—ì´ì „íŠ¸ 1: í´ë˜ìŠ¤ ê¸°ë°˜ (ê°€ì¥ ì¶”ì²œ â­)

**ì¥ì **:
- âœ… ëª…í™•í•œ ì±…ì„ ë¶„ë¦¬
- âœ… JSDoc íƒ€ì… ì•ˆì •ì„±
- âœ… ê°ì²´ ì§€í–¥ ì›ì¹™ ì¤€ìˆ˜
- âœ… í…ŒìŠ¤íŠ¸ ìš©ì´ì„±

**êµ¬ì¡°**:
- `FileManager`: íŒŒì¼ ê´€ë¦¬
- `ContentRenderer`: ë Œë”ë§
- `BookmarkManager`: ë¶ë§ˆí¬ ê´€ë¦¬
- `HistoryManager`: íˆìŠ¤í† ë¦¬ ê´€ë¦¬
- `StyleManager`: ìŠ¤íƒ€ì¼ ê´€ë¦¬
- `ViewerCoordinator`: ëª¨ë“  ê´€ë¦¬ì ì¡°ìœ¨

### ì—ì´ì „íŠ¸ 2: í•¨ìˆ˜í˜• íŒŒì´í”„ë¼ì¸

**ì¥ì **:
- âœ… ìˆœìˆ˜ í•¨ìˆ˜ë¡œ í…ŒìŠ¤íŠ¸ ë§¤ìš° ì‰¬ì›€
- âœ… í•¨ìˆ˜ ì¬ì‚¬ìš©ì„± ë†’ìŒ
- âœ… ë¶€ì‘ìš© ì—†ëŠ” ì„¤ê³„

**êµ¬ì¡°**:
- `state.js`: ë¶ˆë³€ ìƒíƒœ ê´€ë¦¬
- `pipeline.js`: í•¨ìˆ˜ ì²´ì´ë‹ ìœ í‹¸ë¦¬í‹°
- `render.js`: ìˆœìˆ˜ ë Œë”ë§ í•¨ìˆ˜ë“¤
- `index.js`: íŒŒì´í”„ë¼ì¸ ì¡°í•©

### ì—ì´ì „íŠ¸ 3: ì´ë²¤íŠ¸ ê¸°ë°˜

**ì¥ì **:
- âœ… ëª¨ë“ˆ ê°„ ì™„ì „í•œ ë¶„ë¦¬
- âœ… í™•ì¥ì„± ë§¤ìš° ë†’ìŒ
- âœ… ì´ë²¤íŠ¸ ë¡œê·¸ë¡œ ë””ë²„ê¹… ê°€ëŠ¥

**êµ¬ì¡°**:
- `EventBus`: ì¤‘ì•™ ì´ë²¤íŠ¸ ë²„ìŠ¤
- `index.js`: ì´ë²¤íŠ¸ ë°œí–‰/êµ¬ë… ë¡œì§

---

## ğŸš€ ì‚¬ìš© ë°©ë²•

### ì—ì´ì „íŠ¸ 1 ì‚¬ìš©

```javascript
// main.jsì—ì„œ
import * as viewer from './viewer/agent1_class-based/index.js';

// ë˜ëŠ” ê¸°ì¡´ ì½”ë“œì™€ í˜¸í™˜
import { processFiles, displayFileContent } from './viewer/agent1_class-based/index.js';
```

### ì—ì´ì „íŠ¸ 2 ì‚¬ìš©

```javascript
// main.jsì—ì„œ
import * as viewer from './viewer/agent2_functional-pipeline/index.js';
```

### ì—ì´ì „íŠ¸ 3 ì‚¬ìš©

```javascript
// main.jsì—ì„œ
import * as viewer from './viewer/agent3_event-based/index.js';
```

---

## ğŸ“ ë‹¤ìŒ ë‹¨ê³„

1. **í…ŒìŠ¤íŠ¸**: ê° ì—ì´ì „íŠ¸ ì œì•ˆì„ ì‹¤ì œë¡œ í…ŒìŠ¤íŠ¸í•˜ì—¬ ë™ì‘ í™•ì¸
2. **ì„ íƒ**: í”„ë¡œì íŠ¸ì— ê°€ì¥ ì í•©í•œ ì œì•ˆ ì„ íƒ
3. **í†µí•©**: ì„ íƒí•œ ì œì•ˆì„ ê¸°ì¡´ `viewer.js`ë¡œ êµì²´
4. **í•˜ì´ë¼ì´íŠ¸ ê¸°ëŠ¥**: í•˜ì´ë¼ì´íŠ¸ ê´€ë ¨ ì½”ë“œëŠ” ë³„ë„ ëª¨ë“ˆë¡œ ë¶„ë¦¬ í•„ìš” (í˜„ì¬ ì œì•ˆì—ëŠ” í¬í•¨ë˜ì§€ ì•ŠìŒ)

---

## âš ï¸ ì£¼ì˜ì‚¬í•­

- í˜„ì¬ ì œì•ˆì—ëŠ” **í•˜ì´ë¼ì´íŠ¸ ê¸°ëŠ¥**ì´ í¬í•¨ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ë³„ë„ë¡œ `HighlightManager` í´ë˜ìŠ¤ ë˜ëŠ” ëª¨ë“ˆë¡œ ë¶„ë¦¬í•´ì•¼ í•©ë‹ˆë‹¤.
- **AI ë³€í™˜ ê¸°ëŠ¥** (`handleAIClean`)ë„ ë³„ë„ ëª¨ë“ˆë¡œ ë¶„ë¦¬ ê¶Œì¥
- **ì»¨í…ìŠ¤íŠ¸ ë©”ë‰´** ê´€ë ¨ ì½”ë“œë„ ë³„ë„ ëª¨ë“ˆ ë¶„ë¦¬ ê¶Œì¥

---

**ì‘ì„±ì¼**: 2026-01-02
